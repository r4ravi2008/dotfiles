---
description: Explain code in detail
agent: plan
---

# Explain Code

Provide a detailed explanation of how the specified code works.

## Explanation Structure

### 1. High-Level Overview
- What is the purpose of this code?
- What problem does it solve?
- How does it fit into the larger system?

### 2. Architecture & Design
- What design patterns are used?
- How are components organized?
- What are the key abstractions?

### 3. Control Flow
- What is the execution order?
- What are the main code paths?
- Where are the decision points?

### 4. Data Flow
- What data comes in?
- How is it transformed?
- What data goes out?

### 5. Key Functions/Methods
For each important function:
- Purpose
- Parameters and their meaning
- Return value
- Side effects
- Edge cases

### 6. Dependencies
- External libraries used
- Internal modules imported
- Why each dependency is needed

### 7. Important Concepts
- Domain-specific terminology
- Algorithms used
- Technical concepts required to understand

## Explanation Levels

### For Beginners
- Use simple analogies
- Explain fundamental concepts
- Step through code line by line
- Provide context for decisions

### For Experienced Developers
- Focus on non-obvious aspects
- Highlight clever techniques
- Discuss trade-offs made
- Reference similar patterns

$ARGUMENTS

## Instructions
1. Read the entire code carefully
2. Identify the main purpose and structure
3. Break down complex parts into digestible explanations
4. Use diagrams or ASCII art if helpful
5. Highlight important details and gotchas

## Output Format
```
## Overview
[High-level purpose]

## How It Works
[Step-by-step explanation]

## Key Components
[Important functions/classes]

## Important Details
[Edge cases, gotchas, non-obvious behavior]

## Related Concepts
[Patterns, algorithms, domain knowledge needed]
```
